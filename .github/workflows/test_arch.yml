name: test arch

on:
  workflow_dispatch:

jobs:
  build-and-package:
    name: Build and Package
    runs-on: ubuntu-latest
    strategy:
      matrix:
        container_image: ['debian:10', 'arm64v8/debian:10']

    steps:
      - name: Set up QEMU
        uses: docker/setup-qemu-action@v1
      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v1

      - name: Check environment
        run: uname -a && lsb_release -a

        # 在容器中执行命令
        container:
          image: ${{ matrix.container_image }}
